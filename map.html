<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interactive Radius Map</title>
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-sA+4Xl3P2y74KQzGH5F2K+NuZMj6ptNXYW1jT2eT9nM="
  crossorigin=""
/>
<style>
  html, body, #map {
    height: 100%;
    margin: 0;
    padding: 0;
  }
</style>
</head>
<body>
<div id="map"></div>

<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-oNfVYjWWcax3rLUJxUjF+a4k1qUJHO48Qnq6rWZgHyk="
  crossorigin=""
></script>
<script>
  // Center coords and radius (meters)
  const center = [40.63834, -88.78116];
  const radiusMeters = 162 * 1609.34; // 1 mile = 1609.34 meters

  // Create map with zoomControl: false to disable zoom buttons by default
  const map = L.map('map', {
    center: center,
    zoom: 7,
    zoomControl: false,
    dragging: false,
    scrollWheelZoom: false,
    doubleClickZoom: false,
    boxZoom: false,
    keyboard: false,
  });

  // Add OpenStreetMap tile layer
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 18,
  }).addTo(map);

  // Add transparent orange circle with no border
  L.circle(center, {
    radius: radiusMeters,
    color: null,
    fillColor: 'orange',
    fillOpacity: 0.3,
    weight: 0, // no border
  }).addTo(map);

  // Enable map interaction only when holding Alt or Ctrl
  function setInteraction(enabled) {
    if (enabled) {
      map.dragging.enable();
      map.scrollWheelZoom.enable();
      map.doubleClickZoom.enable();
      map.boxZoom.enable();
      map.keyboard.enable();
      if (!map.zoomControl) {
        L.control.zoom().addTo(map);
      }
    } else {
      map.dragging.disable();
      map.scrollWheelZoom.disable();
      map.doubleClickZoom.disable();
      map.boxZoom.disable();
      map.keyboard.disable();
      if (map.zoomControl) {
        map.zoomControl.remove();
        map.zoomControl = null;
      }
    }
  }

  // Initial interaction off
  setInteraction(false);

  // Listen for keydown/up events to toggle interaction
  document.addEventListener('keydown', (e) => {
    if (e.altKey || e.ctrlKey) {
      setInteraction(true);
    }
  });
  document.addEventListener('keyup', (e) => {
    if (!e.altKey && !e.ctrlKey) {
      setInteraction(false);
    }
  });
</script>
</body>
</html>
